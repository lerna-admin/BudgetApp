# Registro de decisiones y tareas (19 de febrero de 2026)

## Contexto
- El proyecto BudgetApp debe avanzar con alta prioridad y se alinea con el plan original, pero ahora exigimos una separación clara entre backend y frontend para servir web, móvil y otros canales.
- La base de datos debe cambiar de SQLite a un motor relacional (PostgreSQL o MySQL) por cuestiones de seguridad y escalabilidad.
- Todo cambio debe documentarse antes de modificar el código, incluyendo la arquitectura, los nuevos microflujos y los assets de diseño.

## Acciones funcionales inmediatas
1. Añadir acciones para los presupuestos finalizados:
   - `Agregar gasto`, `Agregar inversión`, `Movimiento entre cuentas` (p. ej. Bancolombia → Lulo, Bancolombia → Bolsillo).
   - Visibilidad de los movimientos filtrados por cuenta.
   - Opciones de `Ahorro` y seguimiento asociado.
2. El simulador de presupuesto que se guarda como mensual debe quedarse en estado `draft` hasta que el usuario lo confirme manualmente.
3. Al cerrar un presupuesto ya no bastará con un label estático; se debe mostrar un `toast` (notificación efímera) que confirme el cierre.
4. El presupuesto y los gastos deben registrar la metadata extendida: nombre del banco, tarjeta asociada y moneda utilizada.
5. Debe existir una sección de configuración donde el equipo pueda crear bancos y seleccionar la moneda principal/s por país.
6. El cierre de presupuesto debe bloquear modificaciones para el resto del mes.
7. Revisar si el concepto de “arista” (posiblemente una dimensión del flujo) ya aparece en algún caso de uso documentado.

## Diseño y referencias
- El layout/prototipo principal es `documentation/assets/mindful_budget_ux.html` (versión exportada desde la carpeta del stakeholder en `Downloads`). Ese HTML representa la experiencia que seguiremos y debe adjuntarse a cualquier documento o presentación que describa el MVP.
- Si se requiere material adicional (por ejemplo, el PDF o el diseño en Figma), se debe versionar junto a este archivo y documentarse en los artefactos correspondientes.

## Implicaciones técnicas
- Las nuevas acciones deben implementarse en el backend MVC. Los endpoints REST correspondientes (presupuestos, transacciones, cuentas) deben exponer los campos de bancos, tarjetas y monedas, y entregar estados (`draft`, `closed`).
- El toast de cierre y los flujos de cambio de estado deben reflejarse en el frontend Next.js y en cualquier app móvil que consuma la API.
- Registrar esta decisión en la documentación oficial para mantener la trazabilidad RUP y asegurar que el equipo de CX/UX pueda referenciar el artefacto con precisión.
